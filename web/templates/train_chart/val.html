{% extends 'base.html' %}
{% block css %}
    <link rel="icon" href="https://static.jianshukeji.com/hcode/images/favicon.ico">
    <style>
        /* css 代码  */
    </style>
    <script src="https://code.highcharts.com.cn/highcharts/highcharts.js"></script>
    <script src="https://code.highcharts.com.cn/highcharts/modules/exporting.js"></script>
    <script src="https://code.highcharts.com.cn/highcharts/modules/boost.js"></script>
{% endblock css %}
{% block main %}
    <div>
        <h3>使用区域属性(16)和使用表征向量(6)进行房价评估时，第一折训练过程分别如下</h3>
        <div class="col-lg-1" id="container" style="float:left ;min-width: 49%; height: 400px; max-width: 800px; margin: 0 auto"></div>
        <div class="col-lg-1" id="container2" style="float: right;min-width: 49%; height: 400px; max-width: 800px; margin: 0 auto"></div>
    </div>


    <div>
        <h3>经过5折交叉训练后计算出两者的平均相对误差(MRE)，平均绝对误差(MAE)</h3>
        <div class="col-lg-1" id="container3" style="float:right; min-width: 49%; max-width: 800px; height: 400px; margin: 0 auto "></div>
        <div class="col-lg-1" id="container4" style="float:left; min-width: 49%; max-width: 800px; height: 400px; margin: 0 auto"></div>
    </div>
        <script>
            function getTrain(n) {
                var arr = [],
                    i,
                    a =[8.3674955368042, 8.264286994934082, 8.16093635559082, 8.05728530883789, 7.953648567199707, 7.85041618347168, 7.747714042663574, 7.6452436447143555, 7.543010711669922, 7.441452503204346, 7.3409037590026855, 7.24118709564209, 7.141970634460449, 7.043372631072998, 6.945576190948486, 6.848673343658447, 6.752466201782227, 6.656440734863281, 6.560568809509277, 6.465134143829346, 6.370254039764404, 6.276373863220215, 6.183265686035156, 6.090438365936279, 5.998087406158447, 5.906721591949463, 5.816612720489502, 5.727011680603027, 5.637951850891113, 5.550048828125, 5.463096618652344, 5.376570701599121, 5.290416240692139, 5.204783916473389, 5.120030879974365, 5.036255359649658, 4.95346212387085, 4.871711254119873, 4.790785312652588, 4.7108330726623535, 4.632095813751221, 4.554610252380371, 4.477863311767578, 4.401760578155518, 4.326731204986572, 4.252548694610596, 4.179176330566406, 4.107007026672363, 4.036104202270508, 3.966374158859253, 3.8976316452026367, 3.829695224761963, 3.762437582015991, 3.696117877960205, 3.630932092666626, 3.5665793418884277, 3.5030155181884766, 3.440369129180908, 3.378363609313965, 3.3169689178466797, 3.2562761306762695, 3.1963119506835938, 3.1370608806610107, 3.0783889293670654, 3.0205235481262207, 2.963775157928467, 2.907855272293091, 2.853022813796997, 2.800251007080078, 2.749114751815796, 2.6986305713653564, 2.6484851837158203, 2.598867654800415, 2.55017352104187, 2.5024380683898926, 2.4555583000183105, 2.4088690280914307, 2.3623600006103516, 2.3169806003570557, 2.2722668647766113, 2.227869749069214, 2.184487819671631, 2.141927719116211, 2.100367546081543, 2.0595271587371826, 2.0191922187805176, 1.979941964149475, 1.9418089389801025, 1.904944896697998, 1.869032621383667, 1.833986759185791, 1.7996383905410767, 1.7657923698425293, 1.7329164743423462, 1.7010021209716797, 1.6700372695922852, 1.6401300430297852, 1.6109074354171753, 1.5822151899337769, 1.5543049573898315, 1.5269747972488403, 1.5001682043075562, 1.4739930629730225, 1.448747158050537, 1.424661636352539, 1.4015549421310425, 1.3792375326156616, 1.3574914932250977, 1.3364650011062622, 1.3159960508346558, 1.295967936515808, 1.2766953706741333, 1.2585628032684326, 1.2409889698028564, 1.22331964969635, 1.2056330442428589, 1.1882448196411133, 1.1713441610336304, 1.1546701192855835, 1.1382406949996948, 1.1223530769348145, 1.1069915294647217, 1.0919517278671265, 1.0773993730545044, 1.0631911754608154, 1.0492732524871826, 1.0360403060913086, 1.0234346389770508, 1.0113714933395386, 0.9999690651893616, 0.988922119140625, 0.9781378507614136, 0.96788489818573, 0.95806485414505, 0.9487124085426331, 0.9399892091751099, 0.9319056868553162, 0.9242234230041504, 0.9170259833335876, 0.9101035594940186, 0.9032395482063293, 0.8965648412704468, 0.890175998210907, 0.8840516209602356, 0.8782031536102295, 0.872530460357666, 0.866822361946106, 0.8612755537033081, 0.8559625744819641, 0.8508685827255249, 0.8456420302391052, 0.8402848839759827, 0.8351160287857056, 0.8301334381103516, 0.825370192527771, 0.8208091259002686, 0.8160038590431213, 0.810570240020752, 0.8050689697265625, 0.8000346422195435, 0.7953537702560425, 0.7909212708473206, 0.7867097854614258, 0.7827541828155518, 0.7791578769683838, 0.7754136919975281, 0.7714515924453735, 0.7677779793739319, 0.7643133997917175, 0.760896623134613, 0.7576181292533875, 0.7546172738075256, 0.7519207000732422, 0.7493905425071716, 0.7468467950820923, 0.7442466020584106, 0.7419019341468811, 0.7398412227630615, 0.7378858923912048, 0.7360440492630005, 0.7341829538345337, 0.732269823551178, 0.7303767204284668, 0.7285420894622803, 0.7267571687698364, 0.725043535232544, 0.7227662801742554, 0.7200183868408203, 0.7175634503364563, 0.715345025062561, 0.7132723927497864, 0.7112650275230408, 0.7093766927719116, 0.7075955271720886, 0.7058420181274414, 0.7040857672691345, 0.70245361328125, 0.7009785175323486, 0.699578046798706, 0.6981766819953918, 0.6967470645904541, 0.6953572034835815, 0.6940159201622009, 0.6926661729812622, 0.6913949847221375, 0.6902692317962646, 0.6892065405845642, 0.6876552700996399, 0.6856558322906494, 0.6838352084159851, 0.6821672320365906, 0.6806015968322754, 0.6791244745254517, 0.6778243780136108, 0.6767198443412781, 0.6756808161735535, 0.6746054291725159, 0.6735492944717407, 0.6725628972053528, 0.6715735197067261, 0.6705227494239807, 0.6694191098213196, 0.6683126091957092, 0.6672360301017761, 0.6661884188652039, 0.6652272939682007, 0.6642882227897644, 0.663368284702301, 0.6624586582183838, 0.6615232825279236, 0.6606270670890808, 0.659700334072113, 0.6587609648704529, 0.6578605771064758, 0.656961977481842, 0.6560730338096619, 0.655186653137207, 0.6543483734130859, 0.6535643339157104, 0.6527869701385498, 0.6513860821723938, 0.6495222449302673, 0.6479066014289856, 0.6464371085166931, 0.6451228857040405, 0.6439433693885803, 0.6427609920501709, 0.6415598392486572, 0.6404401063919067, 0.6394005417823792, 0.6384595036506653, 0.6375945806503296, 0.6367767453193665, 0.6359812021255493, 0.6351670622825623, 0.6344035863876343, 0.6337124109268188, 0.6330419778823853, 0.63242506980896, 0.6318323016166687, 0.6312251687049866, 0.6306172609329224, 0.6300395727157593, 0.6294934153556824, 0.6289750337600708, 0.6284561157226562, 0.6278799772262573, 0.6272773742675781, 0.6266578435897827, 0.6260284185409546, 0.6254550814628601, 0.6249141097068787, 0.6243264675140381, 0.6237287521362305, 0.6231540441513062, 0.6221445798873901, 0.6207645535469055, 0.6195310950279236, 0.6184177994728088, 0.6174031496047974, 0.6165270805358887, 0.6157717108726501, 0.6150422692298889, 0.6143051385879517, 0.6135745048522949, 0.6128605604171753, 0.6121401190757751, 0.6114369034767151, 0.6107808947563171, 0.6101698875427246, 0.6095644235610962, 0.6089524030685425, 0.6083635687828064, 0.6077767014503479, 0.6072070598602295, 0.6066790819168091, 0.6061426401138306, 0.6056169271469116, 0.6048181056976318, 0.6037933826446533];

                for (i = 0; i < n; i = i + 1) {
                    arr.push([
                        i,
                        a[i],
                    ]);
                }
                return arr;
            }
            function getVaild(n) {
                var arr = [],
                    i,
                    b =[8.157681465148926, 8.056891441345215, 7.956053256988525, 7.855104923248291, 7.754227161407471, 7.653635025024414, 7.5534987449646, 7.453686237335205, 7.35421895980835, 7.255350112915039, 7.157301425933838, 7.0599799156188965, 6.963206768035889, 6.8670573234558105, 6.771562099456787, 6.676836967468262, 6.5827317237854, 6.488913059234619, 6.39542818069458, 6.30239725112915, 6.209861755371094, 6.118185043334961, 6.027225971221924, 5.936574935913086, 5.846334457397461, 5.756962299346924, 5.668690204620361, 5.5808916091918945, 5.4935994148254395, 5.4073920249938965, 5.322214603424072, 5.237466335296631, 5.1529388427734375, 5.06882905960083, 4.9855756759643555, 4.903318405151367, 4.822176456451416, 4.7421441078186035, 4.66291618347168, 4.584615230560303, 4.507348537445068, 4.431120872497559, 4.355477333068848, 4.280372142791748, 4.20628023147583, 4.13304328918457, 4.060609817504883, 3.9892771244049072, 3.919067144393921, 3.849921226501465, 3.781704902648926, 3.714247465133667, 3.647432327270508, 3.581484794616699, 3.516601324081421, 3.452554941177368, 3.3892934322357178, 3.326946973800659, 3.2651987075805664, 3.2039613723754883, 3.143296718597412, 3.0832674503326416, 3.0239007472991943, 2.9650094509124756, 2.9068353176116943, 2.8497045040130615, 2.7933168411254883, 2.73793363571167, 2.6844823360443115, 2.6325647830963135, 2.5812299251556396, 2.530188798904419, 2.4796321392059326, 2.429922580718994, 2.381117820739746, 2.3331074714660645, 2.28518009185791, 2.2373387813568115, 2.190563678741455, 2.144376516342163, 2.0984201431274414, 2.0534098148345947, 2.009145975112915, 1.9658159017562866, 1.9231189489364624, 1.880833387374878, 1.8395711183547974, 1.7993711233139038, 1.7603960037231445, 1.7223114967346191, 1.6850214004516602, 1.6483502388000488, 1.6120942831039429, 1.5767569541931152, 1.5423275232315063, 1.5087971687316895, 1.476292610168457, 1.4444153308868408, 1.4129977226257324, 1.3823144435882568, 1.352158546447754, 1.3224656581878662, 1.2933526039123535, 1.2653045654296875, 1.238588809967041, 1.2128342390060425, 1.1878360509872437, 1.1633561849594116, 1.1395761966705322, 1.1163113117218018, 1.0934380292892456, 1.0713436603546143, 1.05072820186615, 1.0309138298034668, 1.0108366012573242, 0.990559995174408, 0.9704564213752747, 0.9507665038108826, 0.9312059879302979, 0.9118285179138184, 0.892996609210968, 0.8746768832206726, 0.8566150665283203, 0.8390440344810486, 0.8218057751655579, 0.8048296570777893, 0.7886233329772949, 0.7731359004974365, 0.7582640051841736, 0.7441970109939575, 0.7305022478103638, 0.7170605659484863, 0.7042802572250366, 0.6920127272605896, 0.680341362953186, 0.6694852113723755, 0.6594481468200684, 0.6499245762825012, 0.641032874584198, 0.6324959397315979, 0.6240233778953552, 0.6158027648925781, 0.6080051064491272, 0.6005929112434387, 0.5935989618301392, 0.586885392665863, 0.5800857543945312, 0.573493242263794, 0.567231297492981, 0.5612742900848389, 0.55635666847229, 0.5523293018341064, 0.5482115149497986, 0.5440330505371094, 0.5398976802825928, 0.5359235405921936, 0.5325503945350647, 0.5298694372177124, 0.5273267030715942, 0.5247048139572144, 0.5219970941543579, 0.5192266702651978, 0.5164421796798706, 0.5137004852294922, 0.5111986398696899, 0.508367121219635, 0.5051834583282471, 0.5022861957550049, 0.499568372964859, 0.49687138199806213, 0.4943140745162964, 0.4920509159564972, 0.49012207984924316, 0.48838114738464355, 0.48664045333862305, 0.4848373234272003, 0.48328855633735657, 0.48204517364501953, 0.4809347689151764, 0.479966938495636, 0.4790101945400238, 0.47803255915641785, 0.47710946202278137, 0.4762742817401886, 0.47551554441452026, 0.4748464822769165, 0.47431862354278564, 0.4738929271697998, 0.4735124111175537, 0.47316789627075195, 0.4728212356567383, 0.4724579155445099, 0.47212544083595276, 0.4718276858329773, 0.47154027223587036, 0.47127094864845276, 0.47106876969337463, 0.47093361616134644, 0.4708324670791626, 0.47075119614601135, 0.4706895649433136, 0.47065648436546326, 0.47065138816833496, 0.4706830680370331, 0.47072574496269226, 0.47074708342552185, 0.47073715925216675, 0.47066956758499146, 0.4705781936645508, 0.4704829752445221, 0.470367431640625, 0.47028443217277527, 0.47024211287498474, 0.4701802432537079, 0.4700787365436554, 0.469995379447937, 0.4699595272541046, 0.46993428468704224, 0.4699071943759918, 0.46989259123802185, 0.4699329435825348, 0.47005051374435425, 0.47022151947021484, 0.4704210162162781, 0.470636785030365, 0.47080180048942566, 0.47103720903396606, 0.47135862708091736, 0.4715941548347473, 0.4717414081096649, 0.47181186079978943, 0.47186991572380066, 0.47190597653388977, 0.47195130586624146, 0.4720452129840851, 0.4721694886684418, 0.4723658263683319, 0.472545325756073, 0.47264668345451355, 0.4727289378643036, 0.47257933020591736, 0.47221460938453674, 0.47193828225135803, 0.4718257784843445, 0.4717705547809601, 0.47172704339027405, 0.47188809514045715, 0.47221383452415466, 0.4724966287612915, 0.47280004620552063, 0.4730392396450043, 0.473116934299469, 0.4731024503707886, 0.4731190800666809, 0.47319090366363525, 0.4731772541999817, 0.47307658195495605, 0.47301405668258667, 0.472899466753006, 0.47271427512168884, 0.47257596254348755, 0.47250765562057495, 0.4724188446998596, 0.47229331731796265, 0.47216346859931946, 0.47207382321357727, 0.4721323251724243, 0.47227296233177185, 0.4724756181240082, 0.47267577052116394, 0.4727316200733185, 0.47274333238601685, 0.4728851020336151, 0.4730704426765442, 0.4732225239276886, 0.4731854796409607, 0.4730537533760071, 0.4730488359928131, 0.47313448786735535, 0.4732916057109833, 0.47335293889045715, 0.4733087420463562, 0.47332945466041565, 0.4734577536582947, 0.4736247658729553, 0.47375181317329407, 0.4739883840084076, 0.4743082821369171, 0.4746868312358856, 0.47508665919303894, 0.4755893349647522, 0.47621873021125793, 0.476779580116272, 0.4773699939250946, 0.4779113233089447, 0.47834694385528564, 0.4786478579044342, 0.4787268340587616, 0.4785463809967041, 0.478176474571228];
                for (i = 0; i < n; i = i + 1) {
                    arr.push([
                        i,
                        b[i],
                    ]);
                }
                return arr;
            }
            var n = 300,
                data = getTrain(n),
                data2 = getVaild(n);
            console.time('line');
            Highcharts.chart('container', {
                chart: {
                    zoomType: 'x'
                },
                boost: {
                    useGPUTranslations: true
                },
                title: {
                    text: '房价评估 训练 ' + n + ' 次'
                },
                subtitle: {
                    text: '使用区域属性评估'
                },
                yAxis: {
                    title: {
                        text: 'loss'
                    }
                },
                tooltip: {
                    valueDecimals: 2
                },
                series: [{
                            name: 'train',
                            data: data,
                            lineWidth: 1
                        },
                         {
                             name: 'vaild',
                             data: data2,
                             lineWidth:1
                         }
                        ]
            });
            console.timeEnd('line');
            function getTrain2(n) {
                var arr = [],
                    i,
                    a =[8.17030143737793, 8.066485404968262, 7.963336944580078, 7.860691070556641, 7.758377552032471, 7.656564235687256, 7.554906845092773, 7.453405857086182, 7.352232933044434, 7.251368999481201, 7.151087284088135, 7.05155611038208, 6.953038692474365, 6.855155944824219, 6.7575459480285645, 6.660037517547607, 6.563094139099121, 6.4673171043396, 6.372640609741211, 6.278607368469238, 6.185237407684326, 6.092677593231201, 6.000916004180908, 5.910379409790039, 5.820749759674072, 5.7316718101501465, 5.643055438995361, 5.555078506469727, 5.4681572914123535, 5.382112979888916, 5.296947956085205, 5.2126784324646, 5.1287431716918945, 5.045488357543945, 4.963317394256592, 4.881908893585205, 4.801474571228027, 4.721977710723877, 4.643084526062012, 4.564175605773926, 4.485434055328369, 4.407727241516113, 4.331369876861572, 4.256148338317871, 4.181887626647949, 4.108455181121826, 4.035658836364746, 3.9641311168670654, 3.8941946029663086, 3.825493097305298, 3.7575907707214355, 3.690433979034424, 3.6239962577819824, 3.5582387447357178, 3.4934616088867188, 3.429487943649292, 3.366320848464966, 3.3036229610443115, 3.2414557933807373, 3.1800127029418945, 3.119396686553955, 3.0600244998931885, 3.00097918510437, 2.9421820640563965, 2.88456654548645, 2.82796573638916, 2.7722067832946777, 2.7174980640411377, 2.6637144088745117, 2.6108317375183105, 2.5585904121398926, 2.506796360015869, 2.455836057662964, 2.405872106552124, 2.3567349910736084, 2.308509349822998, 2.2614991664886475, 2.2155802249908447, 2.1704702377319336, 2.1265926361083984, 2.0834405422210693, 2.0409774780273438, 1.999385952949524, 1.9583336114883423, 1.9175891876220703, 1.8775333166122437, 1.8387668132781982, 1.801119089126587, 1.7645630836486816, 1.729110836982727, 1.6947057247161865, 1.661172866821289, 1.6285456418991089, 1.5968674421310425, 1.5657583475112915, 1.534745693206787, 1.504640817642212, 1.4756304025650024, 1.4471919536590576, 1.419539451599121, 1.392421007156372, 1.365609884262085, 1.339755892753601, 1.3151054382324219, 1.2912805080413818, 1.2680165767669678, 1.2452116012573242, 1.2231000661849976, 1.2017464637756348, 1.1810818910598755, 1.161240816116333, 1.1422947645187378, 1.1240763664245605, 1.106184959411621, 1.0886720418930054, 1.0717523097991943, 1.0554888248443604, 1.040012001991272, 1.02525794506073, 1.010850191116333, 0.9966707825660706, 0.9832286238670349, 0.9703310132026672, 0.9575520157814026, 0.9450935125350952, 0.9331073760986328, 0.9219938516616821, 0.911838710308075, 0.9021152853965759, 0.8924108743667603, 0.8827143907546997, 0.8731731176376343, 0.8635352849960327, 0.8543065190315247, 0.845827043056488, 0.8377295136451721, 0.8300378322601318, 0.822523832321167, 0.815096378326416, 0.808023989200592, 0.8012537360191345, 0.7947090864181519, 0.788592517375946, 0.7824767827987671, 0.7763603329658508, 0.7707004547119141, 0.7654215097427368, 0.7605597376823425, 0.7559545636177063, 0.751487672328949, 0.7474251389503479, 0.7437556385993958, 0.7402814626693726, 0.7369078397750854, 0.7337282299995422, 0.730674147605896, 0.7277318239212036, 0.7249787449836731, 0.7223696708679199, 0.7199735045433044, 0.7178794741630554, 0.7159971594810486, 0.7141076922416687, 0.7121157050132751, 0.7101179361343384, 0.7082040309906006, 0.7061566114425659, 0.7041048407554626, 0.7023155689239502, 0.7006842494010925, 0.6991543173789978, 0.6977538466453552, 0.6964885592460632, 0.6952049732208252, 0.6938451528549194, 0.692537784576416, 0.6912392973899841, 0.6898795962333679, 0.6885231137275696, 0.6871711611747742, 0.6857989430427551, 0.68443763256073, 0.6830850839614868, 0.6817861795425415, 0.6806719899177551, 0.6796926259994507, 0.6787368059158325, 0.677804708480835, 0.6768220663070679, 0.6757431626319885, 0.6746471524238586, 0.6736170649528503, 0.6725797057151794, 0.6715019941329956, 0.6704531311988831, 0.6694585084915161, 0.6685130000114441, 0.667673647403717, 0.6669019460678101, 0.6661062240600586, 0.6653180122375488, 0.6645715832710266, 0.6639177799224854, 0.6633214354515076, 0.6626677513122559, 0.661971926689148, 0.6609435677528381, 0.6596017479896545, 0.657952606678009, 0.6560717225074768, 0.6544095277786255, 0.6529001593589783, 0.6515341401100159, 0.6502344012260437, 0.6489920616149902, 0.6479130387306213, 0.646942675113678, 0.6460191011428833, 0.6451504826545715, 0.6443167328834534, 0.6435423493385315, 0.6428569555282593, 0.6422135829925537, 0.6415412425994873, 0.640847384929657, 0.6401820778846741, 0.6395844221115112, 0.6390742063522339, 0.638606607913971, 0.6381218433380127, 0.6375793814659119, 0.6369819641113281, 0.6363582611083984, 0.6357176899909973, 0.6350516080856323, 0.6343908905982971, 0.6337375640869141, 0.633110523223877, 0.6325292587280273, 0.6319495439529419, 0.6314119100570679, 0.6308963298797607, 0.6303684115409851, 0.629862368106842, 0.6293622255325317, 0.6288855671882629, 0.6284301280975342, 0.6279674768447876, 0.6275065541267395, 0.6270478963851929, 0.6265785098075867, 0.6260965466499329, 0.6256394982337952, 0.6251994967460632, 0.6247581243515015, 0.6243162155151367, 0.6238468885421753, 0.623354971408844, 0.6228786706924438, 0.6224876642227173, 0.6221762895584106, 0.6218625903129578, 0.6215328574180603, 0.6211434602737427, 0.6206855773925781, 0.6202038526535034, 0.6197162866592407, 0.6193201541900635, 0.6189981698989868, 0.6186897158622742, 0.6183999180793762, 0.6180805563926697, 0.6177322864532471, 0.6173722147941589, 0.6169687509536743, 0.616546094417572, 0.6161471009254456, 0.615730881690979, 0.6152846217155457, 0.6148270964622498, 0.6143622398376465, 0.6139033436775208, 0.6134844422340393, 0.612762451171875, 0.611748993396759, 0.6108101010322571, 0.6099148392677307, 0.6091051697731018, 0.6084147691726685, 0.6077882051467896, 0.6071723103523254, 0.6065995097160339, 0.6060314774513245, 0.6054458022117615, 0.6048721075057983, 0.6043696403503418, 0.6039440035820007, 0.6035341620445251, 0.6028285622596741, 0.6018787622451782];
                for (i = 0; i < n; i = i + 1) {
                    arr.push([
                        i,
                        a[i],
                    ]);
                }
                return arr;
            }
            function getVaild2(n) {
                var arr = [],
                    i,
                    b =[7.957004070281982, 7.855961322784424, 7.755147933959961, 7.654608726501465, 7.5543694496154785, 7.454592704772949, 7.354994773864746, 7.255594253540039, 7.156576633453369, 7.057920455932617, 6.959695339202881, 6.862056732177734, 6.765260696411133, 6.66900110244751, 6.573058128356934, 6.477437496185303, 6.382433891296387, 6.288416862487793, 6.195350170135498, 6.102921962738037, 6.011149883270264, 5.920051097869873, 5.829632759094238, 5.740326881408691, 5.651880264282227, 5.5639448165893555, 5.476474285125732, 5.389645576477051, 5.3037872314453125, 5.218726634979248, 5.134524345397949, 5.051298141479492, 4.968531608581543, 4.886489391326904, 4.80547571182251, 4.725179195404053, 4.64579439163208, 4.567354679107666, 4.489598274230957, 4.411842346191406, 4.334231853485107, 4.257567882537842, 4.1821208000183105, 4.107708930969238, 4.034176349639893, 3.9614665508270264, 3.889453887939453, 3.8186817169189453, 3.749401569366455, 3.681253671646118, 3.6138975620269775, 3.547278642654419, 3.4813320636749268, 3.416062116622925, 3.3517234325408936, 3.288099527359009, 3.22519588470459, 3.162679672241211, 3.1006243228912354, 3.039243221282959, 2.9786438941955566, 2.9192936420440674, 2.8602662086486816, 2.801426887512207, 2.7437474727630615, 2.6870763301849365, 2.631229877471924, 2.576414108276367, 2.522472620010376, 2.469376802444458, 2.4168612957000732, 2.36472749710083, 2.313366174697876, 2.262932777404785, 2.2132625579833984, 2.164456844329834, 2.1168277263641357, 2.0702462196350098, 2.0244338512420654, 1.979812502861023, 1.935871958732605, 1.8925673961639404, 1.8500826358795166, 1.808074712753296, 1.766300082206726, 1.7251533269882202, 1.6852467060089111, 1.6464061737060547, 1.6086117029190063, 1.5718793869018555, 1.536158800125122, 1.501273274421692, 1.46725594997406, 1.434154748916626, 1.40156888961792, 1.3690016269683838, 1.3373050689697266, 1.3066797256469727, 1.2765765190124512, 1.2472213506698608, 1.2183482646942139, 1.1897172927856445, 1.162026047706604, 1.1355448961257935, 1.1098690032958984, 1.0847117900848389, 1.059963345527649, 1.0359172821044922, 1.012658953666687, 0.9900773763656616, 0.9683291912078857, 0.9475005865097046, 0.927415668964386, 0.907633900642395, 0.8882139325141907, 0.8693965077400208, 0.8512532711029053, 0.8339391946792603, 0.8173980712890625, 0.8012086153030396, 0.7852310538291931, 0.7700484991073608, 0.7554473280906677, 0.7409443259239197, 0.7267783284187317, 0.7131266593933105, 0.7004656195640564, 0.6890634894371033, 0.6782943606376648, 0.6674730181694031, 0.6566038131713867, 0.6458771824836731, 0.6349829435348511, 0.6245289444923401, 0.61495041847229, 0.6058269143104553, 0.5971964597702026, 0.5888007879257202, 0.5805301070213318, 0.5726933479309082, 0.5652324557304382, 0.5580630898475647, 0.5514171123504639, 0.5447933077812195, 0.5382027626037598, 0.5321866273880005, 0.5266600251197815, 0.521653413772583, 0.5169857740402222, 0.5125232338905334, 0.508547842502594, 0.5050450563430786, 0.5018017888069153, 0.4991784989833832, 0.49717089533805847, 0.495169997215271, 0.493191123008728, 0.491324782371521, 0.4895448684692383, 0.4879361391067505, 0.48657935857772827, 0.4854080080986023, 0.48425695300102234, 0.4830363094806671, 0.4818291664123535, 0.4807245433330536, 0.4795302748680115, 0.47834721207618713, 0.4773795008659363, 0.4765523076057434, 0.47582772374153137, 0.47520706057548523, 0.47468242049217224, 0.4741552472114563, 0.47361859679222107, 0.47314852476119995, 0.47269293665885925, 0.47223302721977234, 0.4718092381954193, 0.4714045226573944, 0.4710027277469635, 0.47063207626342773, 0.47029411792755127, 0.47000452876091003, 0.46979597210884094, 0.46963801980018616, 0.4694969058036804, 0.4693724811077118, 0.46925103664398193, 0.4691331386566162, 0.4690437614917755, 0.4689904749393463, 0.46896663308143616, 0.46898260712623596, 0.46904152631759644, 0.4691251814365387, 0.46922290325164795, 0.4693033993244171, 0.46936753392219543, 0.469463050365448, 0.4695512056350708, 0.4695839583873749, 0.46955791115760803, 0.46950826048851013, 0.4694828987121582, 0.4694790542125702, 0.46947041153907776, 0.46947523951530457, 0.4694109857082367, 0.46926793456077576, 0.4691823124885559, 0.4691726565361023, 0.46921306848526, 0.46935364603996277, 0.469588965177536, 0.46978193521499634, 0.46995678544044495, 0.4701649844646454, 0.47038504481315613, 0.470610111951828, 0.4708077013492584, 0.4709291458129883, 0.4710144102573395, 0.47117868065834045, 0.47141218185424805, 0.4716300666332245, 0.4717790484428406, 0.4717944264411926, 0.4717489778995514, 0.4717084765434265, 0.4716874361038208, 0.4717186987400055, 0.47183024883270264, 0.4720359742641449, 0.47237128019332886, 0.4727829098701477, 0.47325167059898376, 0.4737362563610077, 0.4740985333919525, 0.4744734764099121, 0.4747822880744934, 0.47503870725631714, 0.47539135813713074, 0.47569528222084045, 0.4760090708732605, 0.4762383699417114, 0.4763641059398651, 0.4764983355998993, 0.47677791118621826, 0.4772661030292511, 0.4777737855911255, 0.47844797372817993, 0.4790854752063751, 0.4795437157154083, 0.48000508546829224, 0.48047542572021484, 0.4809585213661194, 0.48136183619499207, 0.48180091381073, 0.48260805010795593, 0.4836682081222534, 0.48455408215522766, 0.4851478934288025, 0.4853935241699219, 0.4852200448513031, 0.4846575856208801, 0.48399385809898376, 0.4837760627269745, 0.4838162064552307, 0.4839501678943634, 0.48437315225601196, 0.4847889840602875, 0.48511070013046265, 0.4854256808757782, 0.48575231432914734, 0.4861602783203125, 0.48670700192451477, 0.48719292879104614, 0.48739856481552124, 0.48739078640937805, 0.4871845245361328, 0.48689836263656616, 0.48706966638565063, 0.48741090297698975, 0.4874017834663391, 0.48709556460380554, 0.48653703927993774, 0.48600637912750244, 0.4860692620277405, 0.48643648624420166, 0.4866531491279602, 0.48698195815086365, 0.48712870478630066, 0.48669594526290894, 0.485988974571228, 0.4857739508152008, 0.48589926958084106, 0.48573973774909973, 0.4853118360042572, 0.48470017313957214];
                for (i = 0; i < n; i = i + 1) {
                    arr.push([
                        i,
                        b[i],
                    ]);
                }
                return arr;
            }
            var n = 300,
                data = getTrain2(n);
            data2 = getVaild2(n);
            console.time('line');
            Highcharts.chart('container2', {
                chart: {
                    zoomType: 'x'
                },
                boost: {
                    useGPUTranslations: true
                },
                title: {
                    text: '房价评估 训练 ' + n + ' 次'
                },
                subtitle: {
                    text: '使用表征向量训练'
                },
                yAxis: {
                    title: {
                        text: 'loss'
                    }
                },
                tooltip: {
                    valueDecimals: 2
                },
                series: [{
                    name: 'train',
                    data: data,
                    lineWidth: 1
                },
                         {
                             name: 'vaild',
                             data: data2,
                             lineWidth:1
                         }
                        ]
            });
            console.timeEnd('line');


			var chart = Highcharts.chart('container3', {
				chart: {
					type: 'bar'
				},
				title: {
					text: 'MAE'
				},
				subtitle: {
					text: '房价评估问题'
				},
				xAxis: {
					categories: ['第一折', '第二折', '第三折', '第四折',
								 '第五折', '平均'],
					title: {
						text: null
					}
				},
				yAxis: {
					min: 0,
					title: {
						text: ' ',
						align: 'high'
					},
					labels: {
						overflow: 'justify'
					}
				},
				plotOptions: {
					bar: {
						dataLabels: {
							enabled: true,
							allowOverlap: true // 允许数据标签重叠
						}
					}
				},
				legend: {
					layout: 'vertical',
					align: 'right',
					verticalAlign: 'top',
					x: -40,
					y: 60,
					floating: true,
					borderWidth: 1,
					backgroundColor: ((Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'),
					shadow: true
				},
				series: [{
					name: '区域属性',
					data: [3533.967773, 36281.250000, 5598.666992, 1849.707642, 770.454102, 9606.809302],
				}, {
					name: '表征向量',
					data: [3304.560547, 36391.664062, 4608.261719, 1806.921143, 719.932312, 9366.267957],
				}, ]
			});
            var chart = Highcharts.chart('container4', {
				chart: {
					type: 'bar'
				},
				title: {
					text: 'MRE'
				},
				subtitle: {
					text: '房价评估问题'
				},
				xAxis: {
					categories: ['第一折', '第二折', '第三折', '第四折',
								 '第五折', '平均'],
					title: {
						text: null
					}
				},
				yAxis: {
					min: 0,
					title: {
						text: ' ',
						align: 'high'
					},
					labels: {
						overflow: 'justify'
					}
				},
				plotOptions: {
					bar: {
						dataLabels: {
							enabled: true,
							allowOverlap: true // 允许数据标签重叠
						}
					}
				},
				legend: {
					layout: 'vertical',
					align: 'right',
					verticalAlign: 'top',
					x: -40,
					y: 60,
					floating: true,
					borderWidth: 1,
					backgroundColor: ((Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'),
					shadow: true
				},
				series: [{
					name: '区域属性',
					data: [0.052945, 0.327378, 0.068510, 0.021608, 0.010396,0.096167],
				}, {
					name: '表征向量',
					data: [0.049508, 0.328374, 0.056390, 0.021109, 0.009715,0.093019],
				}, ]
			});
        </script>
{% endblock main %}
{% block toc %}
    <div class="widget widget-content">
        <h3 class="widget-title">主要内容</h3>
        <ul>
            <li>
                <a href="/train_chart">模型介绍</a>
            </li>
            <li>
                <a href="/train_chart/train">训练过程</a>
            </li>
            <li>
                <a href="/train_chart/vaild">结果验证</a>
            </li>
        </ul>
    </div>

{% endblock toc%}